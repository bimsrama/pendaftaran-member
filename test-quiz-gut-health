<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gut Health Check | Luxury Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;800&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Outfit', sans-serif; background-color: #050505; color: #ffffff; }
        
        /* Custom Scrollbar Gold */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1a1a1a; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(to bottom, #BF953F, #FCF6BA); border-radius: 4px; }

        /* Gold Gradient Text */
        .text-gradient-gold {
            background: linear-gradient(to right, #FDE68A, #D97706, #FDE68A);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shine 4s linear infinite;
        }

        @keyframes shine {
            to { background-position: 200% center; }
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Option Card Styles */
        .option-card {
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .option-card:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(217, 119, 6, 0.3); /* Amber border hint */
        }
        
        /* Selected State - THE LUXURY GLOW */
        .option-card.selected {
            background: linear-gradient(145deg, rgba(20, 20, 20, 0.9), rgba(0, 0, 0, 0.9));
            border: 1px solid #F59E0B; /* Amber-500 */
            box-shadow: 0 0 15px rgba(245, 158, 11, 0.3); /* Gold Glow */
        }
        .option-card.selected h4 { color: #FCD34D; /* Amber-300 */ }
        .option-card.selected .check-circle {
            background: #F59E0B;
            border-color: #F59E0B;
        }

        /* Ambient Background Light */
        .ambient-light {
            position: fixed;
            top: -20%;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(217, 119, 6, 0.15) 0%, rgba(0,0,0,0) 70%);
            pointer-events: none;
            z-index: 0;
        }

        /* Loader Gold */
        .loader {
            border: 3px solid rgba(255,255,255,0.1);
            border-top: 3px solid #F59E0B;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 relative overflow-x-hidden">

    <div class="ambient-light"></div>

    <div class="w-full max-w-lg glass-card rounded-[2rem] shadow-2xl relative z-10 overflow-hidden">
        
        <div class="p-8 pb-4 text-center">
            <div class="inline-block px-3 py-1 rounded-full border border-amber-500/30 bg-amber-500/10 text-amber-400 text-xs font-bold tracking-widest uppercase mb-4">
                Exclusive Health Check
            </div>
            <h1 class="text-4xl font-extrabold text-white mb-2 tracking-tight">
                Gut Health <br> <span class="text-gradient-gold">Check-Up</span>
            </h1>
            <p class="text-neutral-400 text-sm">Listen to your body. Unlock the solution.</p>
        </div>

        <div class="w-full bg-neutral-800 h-1">
            <div id="progress-bar" class="h-1 bg-gradient-to-r from-amber-600 to-yellow-400 w-1/3 transition-all duration-500"></div>
        </div>

        <div id="quiz-content" class="p-6 md:p-8 space-y-8">

            <div class="bg-neutral-900/50 p-4 rounded-2xl border border-white/5">
                <label class="block text-xs font-bold text-neutral-500 uppercase tracking-wide mb-2">WhatsApp Verification</label>
                <div class="relative">
                    <span class="absolute left-4 top-3.5 text-lg">üîí</span>
                    <input type="tel" id="whatsapp-quiz" 
                        class="w-full bg-black border border-neutral-700 text-white text-sm rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent block pl-12 p-3.5 outline-none transition-all placeholder-neutral-600" 
                        placeholder="0812xxxx (Sesuai saat daftar)" required>
                </div>
            </div>

            <div id="step-1" class="fade-in">
                <h3 class="font-bold text-white text-xl mb-6">1. Seberapa sering perut terasa kembung?</h3>
                <div class="space-y-3" id="group-q1">
                    <div onclick="selectOption('q1', 'A')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üß±</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Jarang, tapi susah BAB</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q1', 'B')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üéà</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Sering banget, begah/bergas</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q1', 'C')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">‚ö°</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Kadang, kalau telat makan</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q1', 'D')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üõ°Ô∏è</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Hampir tidak pernah (Aman)</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                </div>
            </div>

            <div id="step-2" class="fade-in hidden">
                <h3 class="font-bold text-white text-xl mb-6">2. Apa keluhan utamamu?</h3>
                <div class="space-y-3" id="group-q2">
                    <div onclick="selectOption('q2', 'A')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üöΩ</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">BAB keras / Tidak lancar</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q2', 'B')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üí®</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Sendawa / Buang angin terus</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q2', 'C')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üî•</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Perih ulu hati / Dada panas</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q2', 'D')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">‚ú®</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Ingin menjaga kesehatan saja</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                </div>
            </div>

             <div id="step-3" class="fade-in hidden">
                <h3 class="font-bold text-white text-xl mb-6">3. Makanan apa yang paling sensitif?</h3>
                <div class="space-y-3" id="group-q3">
                    <div onclick="selectOption('q3', 'A')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">ü•¶</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Kurang makan sayur</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q3', 'B')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">ü•ú</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Kacang / Susu / Santan</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q3', 'C')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üå∂Ô∏è</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Pedas / Asam / Kopi</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                    <div onclick="selectOption('q3', 'D')" class="option-card cursor-pointer rounded-2xl p-4 flex items-center gap-4 group">
                        <div class="text-2xl grayscale group-hover:grayscale-0 transition-all">üçΩÔ∏è</div>
                        <div class="flex-1"><h4 class="font-semibold text-neutral-300 text-sm">Makan apa saja aman</h4></div>
                        <div class="w-5 h-5 rounded-full border-2 border-neutral-600 check-circle"></div>
                    </div>
                </div>

                <button id="btn-submit" onclick="submitQuiz()" class="w-full mt-8 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-400 hover:to-yellow-400 text-black font-extrabold py-4 rounded-xl shadow-lg shadow-amber-500/20 transform transition hover:scale-[1.02] flex items-center justify-center gap-2 tracking-wide">
                    <span>REVEAL MY RESULT</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                </button>
            </div>
            
            <div class="flex justify-between mt-6">
                <button id="prev-btn" onclick="prevStep()" class="text-neutral-500 text-sm font-medium hover:text-white hidden transition-colors">‚Üê Back</button>
                <button id="next-btn" onclick="nextStep()" class="text-amber-400 text-sm font-bold hover:text-amber-300 transition-colors ml-auto" style="display: none;">Next ‚Üí</button>
            </div>
            
        </div>

        <div id="result-content" class="hidden p-10 text-center min-h-[500px] flex flex-col items-center justify-center relative">
             <div class="absolute inset-0 bg-gradient-to-b from-amber-500/10 to-transparent pointer-events-none"></div>
             
             <div class="relative z-10">
                <div class="inline-block p-4 rounded-full bg-neutral-800 border border-amber-500/30 mb-6 shadow-[0_0_30px_rgba(245,158,11,0.3)]">
                    <span class="text-5xl">üß¨</span>
                </div>
                
                <h2 class="text-neutral-500 font-bold text-xs tracking-[0.2em] uppercase mb-2">Analysis Complete</h2>
                <h3 id="result-title" class="text-4xl font-black text-white mb-4 leading-tight"></h3>
                
                <div class="bg-neutral-900/80 border border-white/10 rounded-2xl p-6 mb-8 backdrop-blur-md">
                    <p id="result-desc" class="text-neutral-300 text-sm leading-relaxed"></p>
                </div>

                <a href="https://wa.me/" class="inline-flex items-center justify-center w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-neutral-200 transition-colors">
                    <span>Open WhatsApp</span>
                    <svg class="w-4 h-4 ml-2" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                </a>
             </div>
        </div>

    </div>

    <script>
        // *** GANTI URL INI DENGAN URL DEPLOY SCRIPT ANDA ***
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbx.../exec'; 

        let answers = { q1: null, q2: null, q3: null };
        let currentStep = 1;

        function showStep(step) {
            document.getElementById('step-1').classList.add('hidden');
            document.getElementById('step-2').classList.add('hidden');
            document.getElementById('step-3').classList.add('hidden');
            
            document.getElementById(`step-${step}`).classList.remove('hidden');
            
            // Update Progress
            const progress = document.getElementById('progress-bar');
            if(step === 1) progress.style.width = '33%';
            if(step === 2) progress.style.width = '66%';
            if(step === 3) progress.style.width = '100%';

            // Show/Hide back button
            if(step > 1) document.getElementById('prev-btn').classList.remove('hidden');
            else document.getElementById('prev-btn').classList.add('hidden');
        }

        function nextStep() {
            if(currentStep < 3) {
                currentStep++;
                showStep(currentStep);
            }
        }

        function prevStep() {
            if(currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        function selectOption(question, value) {
            answers[question] = value;
            
            // Visual Selection
            const parent = document.getElementById('group-' + question);
            const children = parent.children;
            
            for(let i=0; i<children.length; i++) {
                // Remove selected classes
                if(children[i].getAttribute('onclick').includes(`'${value}'`)) {
                    // Reset others
                    for(let j=0; j<children.length; j++) {
                        children[j].classList.remove('selected');
                    }
                    // Add to clicked
                    children[i].classList.add('selected');
                }
            }

            // Auto advance logic (Gen Z speed)
            if(question === 'q1') setTimeout(() => nextStep(), 400);
            if(question === 'q2') setTimeout(() => nextStep(), 400);
            // Q3 doesn't auto advance, waits for submit
        }

        function submitQuiz() {
            const wa = document.getElementById('whatsapp-quiz').value;
            const btn = document.getElementById('btn-submit');

            if(!wa) {
                alert("üîí Access Denied: Please enter your WhatsApp number.");
                document.getElementById('whatsapp-quiz').focus();
                return;
            }
            if(!answers.q1 || !answers.q2 || !answers.q3) {
                alert("‚ö†Ô∏è Please answer all questions to unlock results.");
                return;
            }

            // Loading
            const originalText = btn.innerHTML;
            btn.innerHTML = '<div class="loader"></div>';
            btn.disabled = true;

            // Logic Score
            let scores = { A: 0, B: 0, C: 0, D: 0 };
            scores[answers.q1]++;
            scores[answers.q2]++;
            scores[answers.q3]++;

            let maxScore = 0;
            let finalCat = 'D';
            for (let cat in scores) {
                if (scores[cat] > maxScore) {
                    maxScore = scores[cat];
                    finalCat = cat;
                }
            }

            fetch(SCRIPT_URL + '?action=quiz&whatsapp=' + encodeURIComponent(wa) + '&kategori=' + finalCat, {
                method: 'POST'
            })
            .then(res => res.json())
            .then(data => {
                if(data.result === 'error') {
                    alert("‚ùå " + data.message);
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                } else {
                    showResult(finalCat);
                }
            })
            .catch(err => {
                alert("‚ùå Connection Error.");
                btn.innerHTML = originalText;
                btn.disabled = false;
            });
        }

        function showResult(cat) {
            document.getElementById('quiz-content').classList.add('hidden');
            document.getElementById('result-content').classList.remove('hidden');
            document.querySelector('.w-full.bg-neutral-800').classList.add('hidden'); // hide progress bar
            document.querySelector('h1').innerHTML = "Your <span class='text-gradient-gold'>Results</span>"; // Change Header

            const title = document.getElementById('result-title');
            const desc = document.getElementById('result-desc');

            if(cat === 'A') {
                title.innerHTML = "<span class='text-amber-500'>Type A:</span> The Blocked";
                desc.innerText = "Sistem pencernaanmu lambat. Kamu butuh 'boost' serat & hidrasi segera agar racun tidak menumpuk.";
            } else if(cat === 'B') {
                title.innerHTML = "<span class='text-amber-400'>Type B:</span> The Bloated";
                desc.innerText = "Gas berlebih adalah musuhmu. Enzim pencernaanmu butuh bantuan untuk memecah makanan lebih efisien.";
            } else if(cat === 'C') {
                title.innerHTML = "<span class='text-red-500'>Type C:</span> The Sensitive";
                desc.innerText = "Lambungmu mudah 'marah'. Asam lambung tidak stabil. Kamu butuh penenang alami untuk dinding lambung.";
            } else {
                title.innerHTML = "<span class='text-emerald-400'>Type D:</span> Iron Gut";
                desc.innerText = "Pencernaanmu kuat! Tapi ingat, maintenance itu kunci agar tetap awet muda dan bugar.";
            }
        }
    </script>
</body>
</html>
